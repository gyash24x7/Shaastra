generator client {
    provider = "prisma-client-js"
    output = "../../../node_modules/@prisma/client/workforce"
}

datasource db {
    provider = "postgresql"
    url      = env("WORKFORCE_DB_URL")
}

enum Department {
    WEBOPS
    CONCEPT_AND_DESIGN
    SPONSORSHIP_AND_PR
    SHOWS_AND_EXHIBITIONS
    EVOLVE
    ENVISAGE
    EVENTS_AND_WORKSHOPS
    FINANCE
    QMS
    OPERATIONS_AND_INFRASTRUCTURE_PLANNING
    PUBLICITY
}

enum MemberRole {
    COORD
    HEAD
    CORE
    COCAS
}

model Member {
    id              String          @id @default(cuid())
    userId          String          @unique
    name            String
    email           String          @unique
    rollNumber      String          @unique
    role            MemberRole      @default(COORD)
    departments     Department[]
    teams           Team[]
    profilePic      String          @default("")
    coverPic        String          @default("")
    mobile          String
    upi             String          @default("")
    enabled         Boolean         @default(false)
}

model Team {
    id              String          @id @default(cuid())
    name            String
    department      Department
    members         Member[]
}
